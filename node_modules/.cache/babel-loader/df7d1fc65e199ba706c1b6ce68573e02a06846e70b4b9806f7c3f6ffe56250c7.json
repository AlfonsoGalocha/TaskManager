{"ast":null,"code":"var _jsxFileName = \"/home/alfonso/Desktop/UCJC/a\\xF1o4/Desarrollo Multiplataforma/Practica4/guia/tasks-app/llamada-api/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { supabase } from './SupabaseClient.ts';\nimport TaskForm from './TaskForm.js'; // Importa el componente TaskForm\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function App() {\n  _s();\n  const [tasks, setTasks] = useState([]); // Estado para las tareas\n\n  // Función para obtener las tareas desde Supabase\n  const fetchTasks = async () => {\n    const {\n      data,\n      error\n    } = await supabase.from('tasks').select('*').order('id', {\n      ascending: true\n    });\n    if (!error) {\n      setTasks(data);\n    } else {\n      console.error('Error fetching tasks:', error.message);\n    }\n  };\n  const handleSubmit = async (title, description) => {\n    const {\n      error\n    } = await supabase.from('tasks').insert([{\n      title,\n      description\n    }]);\n    if (!error) fetchTasks();\n  };\n  const markAsCompleted = async id => {\n    const {\n      error\n    } = await supabase.from('tasks').update({\n      completed: true\n    }).eq('id', id);\n    if (!error) fetchTasks();\n  };\n  const deleteTask = async id => {\n    const {\n      error\n    } = await supabase.from('tasks').delete().eq('id', id);\n    if (!error) fetchTasks();\n  };\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n  useEffect(() => {\n    fetchTasks(); // Llama a fetchTasks cuando el componente se monta\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: \"600px\",\n      margin: \"20px auto\",\n      fontFamily: \"Arial, sans-serif\",\n      textAlign: \"center\",\n      padding: \"20px\",\n      boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\n      borderRadius: \"10px\",\n      backgroundColor: \"#f9f9f9\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        color: \"#333\"\n      },\n      children: \"Task Manager\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(TaskForm, {\n      onSave: fetchTasks\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        listStyle: \"none\",\n        padding: \"0\"\n      },\n      children: tasks.map(task => /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          alignItems: \"center\",\n          marginBottom: \"10px\",\n          padding: \"10px\",\n          border: \"1px solid #ddd\",\n          borderRadius: \"5px\",\n          backgroundColor: \"#fff\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            flex: 1,\n            textAlign: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: task.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), \": \", task.description]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [!task.completed && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: async () => {\n              const {\n                error\n              } = await supabase.from('tasks').update({\n                completed: true\n              }).eq('id', task.id);\n              if (!error) fetchTasks();\n            },\n            style: {\n              padding: \"5px 10px\",\n              fontSize: \"12px\",\n              color: \"white\",\n              backgroundColor: \"#4caf50\",\n              border: \"none\",\n              borderRadius: \"5px\",\n              cursor: \"pointer\",\n              marginRight: \"10px\"\n            },\n            children: \"Complete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: async () => {\n              const {\n                error\n              } = await supabase.from('tasks').delete().eq('id', task.id);\n              if (!error) fetchTasks();\n            },\n            style: {\n              padding: \"5px 10px\",\n              fontSize: \"12px\",\n              color: \"white\",\n              backgroundColor: \"#f44336\",\n              border: \"none\",\n              borderRadius: \"5px\",\n              cursor: \"pointer\"\n            },\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this)]\n      }, task.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"weOf0VesAdD4xw+rXOOhYK4d8/M=\");\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","supabase","TaskForm","jsxDEV","_jsxDEV","App","_s","tasks","setTasks","fetchTasks","data","error","from","select","order","ascending","console","message","handleSubmit","title","description","insert","markAsCompleted","id","update","completed","eq","deleteTask","delete","style","maxWidth","margin","fontFamily","textAlign","padding","boxShadow","borderRadius","backgroundColor","children","color","fileName","_jsxFileName","lineNumber","columnNumber","onSave","listStyle","map","task","display","justifyContent","alignItems","marginBottom","border","flex","onClick","fontSize","cursor","marginRight","_c","$RefreshReg$"],"sources":["/home/alfonso/Desktop/UCJC/año4/Desarrollo Multiplataforma/Practica4/guia/tasks-app/llamada-api/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { supabase } from './SupabaseClient.ts';\nimport TaskForm from './TaskForm.js'; // Importa el componente TaskForm\n\nexport default function App() {\n  const [tasks, setTasks] = useState([]); // Estado para las tareas\n\n  // Función para obtener las tareas desde Supabase\n  const fetchTasks = async () => {\n    const { data, error } = await supabase.from('tasks').select('*').order('id', { ascending: true });\n    if (!error) {\n      setTasks(data);\n    } else {\n      console.error('Error fetching tasks:', error.message);\n    }\n  };\n\n  const handleSubmit = async (title, description) => {\n    const { error } = await supabase.from('tasks').insert([{ title, description }]);\n    if (!error) fetchTasks();\n  };\n\n  const markAsCompleted = async (id) => {\n    const { error } = await supabase.from('tasks').update({ completed: true }).eq('id', id);\n    if (!error) fetchTasks();\n  };\n\n  const deleteTask = async (id) => {\n    const { error } = await supabase.from('tasks').delete().eq('id', id);\n    if (!error) fetchTasks();\n  };\n\n  useEffect(() => {\n    fetchTasks();\n  }, []);\n\n  \n\n  useEffect(() => {\n    fetchTasks(); // Llama a fetchTasks cuando el componente se monta\n  }, []);\n\n  return (\n    <div\n      style={{\n        maxWidth: \"600px\",\n        margin: \"20px auto\",\n        fontFamily: \"Arial, sans-serif\",\n        textAlign: \"center\",\n        padding: \"20px\",\n        boxShadow: \"0 4px 8px rgba(0,0,0,0.1)\",\n        borderRadius: \"10px\",\n        backgroundColor: \"#f9f9f9\",\n      }}\n    >\n      <h2 style={{ color: \"#333\" }}>Task Manager</h2>\n\n      {/* Componente TaskForm */}\n      <TaskForm onSave={fetchTasks} />\n\n      {/* Lista de tareas */}\n      <ul style={{ listStyle: \"none\", padding: \"0\" }}>\n        {tasks.map((task) => (\n          <li\n            key={task.id}\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-between\",\n              alignItems: \"center\",\n              marginBottom: \"10px\",\n              padding: \"10px\",\n              border: \"1px solid #ddd\",\n              borderRadius: \"5px\",\n              backgroundColor: \"#fff\",\n            }}\n          >\n            <span style={{ flex: 1, textAlign: \"left\" }}>\n              <strong>{task.title}</strong>: {task.description}\n            </span>\n            <div>\n              {/* Botón para completar la tarea */}\n              {!task.completed && (\n                <button\n                  onClick={async () => {\n                    const { error } = await supabase\n                      .from('tasks')\n                      .update({ completed: true })\n                      .eq('id', task.id);\n                    if (!error) fetchTasks();\n                  }}\n                  style={{\n                    padding: \"5px 10px\",\n                    fontSize: \"12px\",\n                    color: \"white\",\n                    backgroundColor: \"#4caf50\",\n                    border: \"none\",\n                    borderRadius: \"5px\",\n                    cursor: \"pointer\",\n                    marginRight: \"10px\",\n                  }}\n                >\n                  Complete\n                </button>\n              )}\n\n              {/* Botón para eliminar la tarea */}\n              <button\n                onClick={async () => {\n                  const { error } = await supabase\n                    .from('tasks')\n                    .delete()\n                    .eq('id', task.id);\n                  if (!error) fetchTasks();\n                }}\n                style={{\n                  padding: \"5px 10px\",\n                  fontSize: \"12px\",\n                  color: \"white\",\n                  backgroundColor: \"#f44336\",\n                  border: \"none\",\n                  borderRadius: \"5px\",\n                  cursor: \"pointer\",\n                }}\n              >\n                Delete\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}