{"ast":null,"code":"var _jsxFileName = \"/home/alfonso/Desktop/UCJC/a\\xF1o4/Desarrollo Multiplataforma/Practica4/guia/tasks-app/llamada-api/src/TaskForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\nimport supabase from '@app/supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TaskForm = ({\n  onSave\n}) => {\n  _s();\n  const [title, setTitle] = useState('');\n  const [description, setDescription] = useState('');\n  const handleSubmit = async () => {\n    var _user$data$user;\n    console.log('Datos del formulario:', {\n      title,\n      description\n    });\n    const user = await supabase.auth.getUser(); // Obtén el usuario autenticado\n    let userId = (user === null || user === void 0 ? void 0 : (_user$data$user = user.data.user) === null || _user$data$user === void 0 ? void 0 : _user$data$user.id) || `${process.env.EXPO_PUBLIC_ID_PRUEBAS}`; // Usa un ID de pruebas si no hay usuario\n\n    const {\n      error\n    } = await supabase.from('tasks').insert([{\n      title: title.trim(),\n      description: description.trim(),\n      user_id: userId\n    }]);\n    if (!error) {\n      onSave(); // Notifica al padre que se guardó una tarea\n      setTitle(''); // Limpia los campos del formulario\n      setDescription('');\n    } else {\n      console.error('Error al guardar la tarea:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(View, {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      style: styles.title,\n      children: \"Nueva Tarea\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      style: styles.input,\n      placeholder: \"T\\xEDtulo\",\n      placeholderTextColor: \"#ccc\",\n      value: title,\n      onChangeText: setTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n      style: [styles.input, styles.textarea],\n      placeholder: \"Descripci\\xF3n\",\n      placeholderTextColor: \"#ccc\",\n      value: description,\n      onChangeText: setDescription,\n      multiline: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(TouchableOpacity, {\n      style: styles.button,\n      onPress: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Text, {\n        style: styles.buttonText,\n        children: \"Guardar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n_s(TaskForm, \"1UKQWTfo2RWmkwPNsekAdQbvqFk=\");\n_c = TaskForm;\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 20\n  },\n  input: {\n    width: '100%',\n    padding: 10,\n    borderWidth: 1,\n    borderColor: '#ccc',\n    borderRadius: 5,\n    fontSize: 16,\n    color: 'white',\n    backgroundColor: '#333',\n    marginBottom: 10\n  },\n  textarea: {\n    height: 100,\n    textAlignVertical: 'top'\n  },\n  button: {\n    width: '100%',\n    padding: 15,\n    backgroundColor: '#007bff',\n    borderRadius: 5,\n    alignItems: 'center'\n  },\n  buttonText: {\n    color: 'white',\n    fontSize: 16,\n    fontWeight: 'bold'\n  }\n});\nexport default TaskForm;\nvar _c;\n$RefreshReg$(_c, \"TaskForm\");","map":{"version":3,"names":["React","useState","View","Text","TextInput","TouchableOpacity","StyleSheet","supabase","jsxDEV","_jsxDEV","TaskForm","onSave","_s","title","setTitle","description","setDescription","handleSubmit","_user$data$user","console","log","user","auth","getUser","userId","data","id","process","env","EXPO_PUBLIC_ID_PRUEBAS","error","from","insert","trim","user_id","style","styles","container","children","fileName","_jsxFileName","lineNumber","columnNumber","input","placeholder","placeholderTextColor","value","onChangeText","textarea","multiline","button","onPress","buttonText","_c","create","flex","justifyContent","alignItems","padding","fontSize","fontWeight","color","marginBottom","width","borderWidth","borderColor","borderRadius","backgroundColor","height","textAlignVertical","$RefreshReg$"],"sources":["/home/alfonso/Desktop/UCJC/año4/Desarrollo Multiplataforma/Practica4/guia/tasks-app/llamada-api/src/TaskForm.js"],"sourcesContent":["import React, { useState } from 'react';\n    import { View, Text, TextInput, TouchableOpacity, StyleSheet } from 'react-native';\n    import supabase from '@app/supabaseClient';\n\n    interface TaskFormProps {\n      onSave: () => void; // Callback para notificar al componente padre cuando se guarde una tarea\n    }\n\n    const TaskForm: React.FC<TaskFormProps> = ({ onSave }) => {\n      const [title, setTitle] = useState('');\n      const [description, setDescription] = useState('');\n\n      const handleSubmit = async () => {\n        console.log('Datos del formulario:', { title, description });\n\n        const user = await supabase.auth.getUser(); // Obtén el usuario autenticado\n        let userId = user?.data.user?.id || `${process.env.EXPO_PUBLIC_ID_PRUEBAS}`; // Usa un ID de pruebas si no hay usuario\n\n        const { error } = await supabase\n          .from('tasks')\n          .insert([\n            {\n              title: title.trim(),\n              description: description.trim(),\n              user_id: userId,\n            },\n          ]);\n\n        if (!error) {\n          onSave(); // Notifica al padre que se guardó una tarea\n          setTitle(''); // Limpia los campos del formulario\n          setDescription('');\n        } else {\n          console.error('Error al guardar la tarea:', error);\n        }\n      };\n\n      return (\n        <View style={styles.container}>\n          <Text style={styles.title}>Nueva Tarea</Text>\n          <TextInput\n            style={styles.input}\n            placeholder=\"Título\"\n            placeholderTextColor=\"#ccc\"\n            value={title}\n            onChangeText={setTitle}\n          />\n          <TextInput\n            style={[styles.input, styles.textarea]}\n            placeholder=\"Descripción\"\n            placeholderTextColor=\"#ccc\"\n            value={description}\n            onChangeText={setDescription}\n            multiline\n          />\n          <TouchableOpacity style={styles.button} onPress={handleSubmit}>\n            <Text style={styles.buttonText}>Guardar</Text>\n          </TouchableOpacity>\n        </View>\n      );\n    };\n\n    const styles = StyleSheet.create({\n      container: {\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        padding: 20,\n      },\n      title: {\n        fontSize: 24,\n        fontWeight: 'bold',\n        color: 'white',\n        marginBottom: 20,\n      },\n      input: {\n        width: '100%',\n        padding: 10,\n        borderWidth: 1,\n        borderColor: '#ccc',\n        borderRadius: 5,\n        fontSize: 16,\n        color: 'white',\n        backgroundColor: '#333',\n        marginBottom: 10,\n      },\n      textarea: {\n        height: 100,\n        textAlignVertical: 'top',\n      },\n      button: {\n        width: '100%',\n        padding: 15,\n        backgroundColor: '#007bff',\n        borderRadius: 5,\n        alignItems: 'center',\n      },\n      buttonText: {\n        color: 'white',\n        fontSize: 16,\n        fontWeight: 'bold',\n      },\n    });\n\n    export default TaskForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}